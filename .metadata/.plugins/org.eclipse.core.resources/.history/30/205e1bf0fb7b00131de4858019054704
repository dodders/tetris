package com.gd.tetris.model;

import java.util.Observer;

import javafx.scene.paint.Color;

public class Model {
	
	public Tile [][] tiles ;
	public int rows;
	public int cols;
	GameObject shape = null;
	
	public Model(int rows, int cols) {
		this.rows = rows;
		this.cols = cols;
		tiles = new Tile[rows][cols];
	}
	
	public void init(Observer o) {
		
		log("creating " + rows * cols + " tiles.");
		for (int r = 0; r < rows; r++) {
			for (int c = 0; c < cols; c++) {
				Tile t = new Tile();
				t.row = r;
				t.col = c;
				t.setColor(Color.AQUA);
				t.addObserver(o);
				tiles[r][c] = t;
			}
		}
	}
	
	public GameObject getBlock() {
		return shape;
	}
	
	public GameObject createBlock() {
		reutrn new BlockL();
	}
	
	public void placeBlock(GameObject b, Observer o) {
		int[][] blockMap = b.getShape();
		Tile t = new Tile();
		t.setColor(b.getColor());
		t.addObserver(o);
		for (int r = 0; r < 2; r++) {
			for (int c = 0; c < 4; c++) {
				tiles[r][c] = t;
			}
		}

	}
	
	private void log(String msg) {
		System.out.println(msg);
	}

}
